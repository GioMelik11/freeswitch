<!--
    Clean Directory Configuration
    User management for extensions
-->
<include>
  <domain name="$${domain}">
    <params>
      <param name="dial-string" value="{^^:sip_invite_domain=${dialed_domain}:presence_id=${dialed_user}@${dialed_domain}}${sofia_contact(*/${dialed_user}@${dialed_domain})}"/>
    </params>

    <variables>
      <variable name="record_stereo" value="true"/>
      <variable name="default_gateway" value="$${default_provider}"/>
      <variable name="default_areacode" value="$${default_areacode}"/>
      <variable name="transfer_fallback_extension" value="operator"/>

      <!-- Transfer Configuration -->
      <variable name="transfer_ringback" value="$${hold_music}"/>
      <variable name="transfer_timeout" value="30"/>
      <variable name="transfer_continue_on_fail" value="true"/>
      <variable name="transfer_hangup_after_bridge" value="true"/>
      <variable name="transfer_preserve_caller_id" value="true"/>

      <!-- Transfer Feature Codes -->
      <variable name="blind_transfer_code" value="*1"/>
      <variable name="attended_transfer_code" value="*3"/>
      <variable name="operator_code" value="*0"/>
      <variable name="conference_code" value="*9"/>
      <variable name="transfer_help_code" value="**"/>
    </variables>

    <groups>
      <group name="default">
        <users>
          <X-PRE-PROCESS cmd="include" data="default/*.xml"/>
        </users>
      </group>

      <group name="support">
        <users>
          <user id="1000" type="pointer"/>
          <user id="1001" type="pointer"/>
          <user id="1002" type="pointer"/>
        </users>
      </group>

      <group name="sales">
        <users>
          <user id="1003" type="pointer"/>
          <user id="1004" type="pointer"/>
          <user id="1005" type="pointer"/>
        </users>
      </group>
    </groups>

  </domain>
</include>